@page "/personedit/{id:int}"
@using  BlazorFromServer.Data
@using Core.Domain

@inject IUserService PersonService


<div class="container">
    <form>
        <div class="form-group">
            <label for="name">Name:</label>
            <input id="name" class="form-control" type="text" bind="@Person.Name" />
        </div>
        <div class="form-group">
            <label for="email">Email:</label>
            <input id="email" class="form-control" type="text" bind="@Person.Email" />
        </div>
        <div class="form-group">
            <label for="phonenumber">Email:</label>
            <input id="phonenumber" class="form-control" type="text" bind="@Person.PhoneNumber" />
        </div>
        <div class="form-group">
            <label for="picture">Picture:</label>
            <input id="picture" class="form-control" type="text" bind="@Person.Picture" />
        </div>

        <div class="row">
            <img src="@Person.Picture" width="100px" height="100px" />
        </div>
    </form>
</div>

@functions
{
[Parameter]
int Id { get; set; }

User Person { get; set; }

protected override void OnInit()
{
    Console.WriteLine($"Received {Id.ToString()}");
    Person = PersonService.AvailablePersons.First(person => person.Id == Id);

}
}
